<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Remo Oostdam — Other</title>

  <!-- Inter (same as index) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Self-contained JS files (from your repo) -->
  <script src="assets/js/three.min.js"></script>
  <script src="assets/js/CircleAxisControls2.js"></script>
  <script src="assets/js/odeSolvers.js"></script>
  <script src="assets/js/JSON.js"></script>

  <style>
    :root{
      --bg:#FFF9F0;
      --text:#0f1115;
      --muted:#5f6670;
      --muted-link:#7a7f87;
      --line:#e6e8eb;
      --accent:#000000;
      --max:980px;
      --title-width:240px;
      --viz-w:520px;            /* right column width */
      --blue-tint:#e9edff;
      --yellow-tint:#ffe2c2;
      --pair-h: 350px;          /* equal height for the two images */
    }
    html{box-sizing:border-box}
    *,*:before,*:after{box-sizing:inherit}

    body{
      margin:0; background:var(--bg); color:#2b2d30;
      font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      font-weight:400; font-size:16px; line-height:1.5;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    a {
  color: inherit;               /* same color as surrounding text */
  text-decoration: none;        /* remove underline */
  cursor: pointer;              /* show pointer on hover */
}

a:hover {
  text-decoration: none;
  color: inherit;
  opacity: 0.85;                /* subtle feedback when hovered */
}

.media {
  margin-top: 85px !important;   /* moves the whole right column down */
}

:root{
  --h2-size: 17.5px;   /* keep in sync with your h2 font-size */
  --h2-line: 1.15;     /* keep in sync with your h2 line-height */
  --h2-gap: 6px;       /* your h2 bottom margin */
}

.media-pair {
  margin-bottom: 20px;   /* try 20–28px for optimal balance */
}

/* On mobile (stacked layout), no extra offset needed */
@media (max-width: 1000px){
  .media-pair{ margin-top: 0; }
}


    /* ---------- HEADER (same as index) ---------- */
    .menu{
  position:sticky;
  top:0;
  z-index:50;
       width: 100vw;             /* full viewport width */
  margin-left: calc(50% - 50vw); /* centers it in case inside a centered container */
  background:rgba(108, 140, 198, 0.65); /* ← lighter, more transparent Turm blue */
  color:#fff;
  border-bottom:1px solid rgba(255,255,255,0.15);
  backdrop-filter:blur(8px);  /* slightly stronger blur for balance */
  -webkit-backdrop-filter:blur(8px);
  transition:opacity .4s ease, transform .4s ease, background .4s ease;
}
    .menu.fade-out{opacity:0; transform:translateY(-20px); pointer-events:none;}
    .inner{
      max-width:var(--max);
      margin:0 auto;
      padding:8px 20px;
      display:flex; justify-content:space-between; align-items:center;
    }
    .title-wrap{display:grid; grid-template-columns:2px auto; column-gap:12px; align-items:center;}
    .title-bar{background:var(--accent);}
    .title-text{display:flex; flex-direction:column}
    h1{
      font-weight:700; font-size:23px; line-height:1.15; margin:0;
      width:var(--title-width); letter-spacing:.03em; text-transform:uppercase; color:var(--text);
    }
    .subtitle{
      color:var(--text); font-weight:400; font-size:12px; letter-spacing:.11em;
      text-transform:uppercase; margin-top:4px; width:var(--title-width);
    }
    .uva-logo img{ height:36px; width:auto; display:block; opacity:.85; transition:opacity .2s ease; }
    .uva-logo img:hover{opacity:1}

    /* Top-right navigation (same as index) */
    .top-nav{
      display:flex; gap:12px; align-items:center;
      margin-left:auto; margin-right:12px; /* keep close to the logo */
    }
    .top-nav a{
      padding:6px 8px; border-radius:4px; font-size:14.5px; font-weight:500; color:var(--text);
      transition:background .15s ease, color .15s ease;
    }
    .top-nav a:hover{ background:rgba(0,0,0,0.04); }
    .top-nav a.active{
      background:none;
      text-decoration:underline;
      text-decoration-thickness:2px;
      text-underline-offset:4px;
      color:var(--accent);
    }

    /* ---------- PAGE LAYOUT (same as index) ---------- */
    .wrap {
  max-width: var(--max);
  margin: 0 auto;
  padding: 16px 20px 0; /* no bottom padding */
}


    /* Two-column content: left = text, right = media (images + viz) */
    .content{ display:grid; grid-template-columns:1fr var(--viz-w); gap:32px; align-items:start; }
    @media (max-width:1000px){ .content{ grid-template-columns:1fr; } }

    section{ margin-top:22px; padding-top:14px; }
    h2{ font-weight:500; font-size:17.5px; letter-spacing:.10em; text-transform:uppercase; margin:0 0 6px; color:var(--text); }
    .lead{ font-size:15px; font-weight:300; margin:0 0 8px; max-width:68ch; }

    /* ---------- RIGHT COLUMN: images pair + visualization ---------- */
    .media { margin-top: 36px; }

/* Clickable images (same feel as main) */
.media-pair img { cursor: pointer; transition: transform .25s ease, box-shadow .25s ease; }
.media-pair img:hover { transform: scale(1.02); box-shadow: 0 4px 12px rgba(0,0,0,.08); }

/* Lightbox (reuse main style) */
/* Lightbox base (same as before) */
.lightbox {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(4px);
  overflow: auto;
}

.lightbox-content {
  display: block;
  margin: auto;
  max-width: 90vw;
  max-height: 90vh;
  box-shadow: 0 0 30px rgba(0,0,0,0.6);
  border: 4px solid #fff;
  transition: transform .3s ease;
}

/* Apply 90° rotation and make it huge */
.lightbox-content.rotated {
  transform: rotate(90deg) scale(1.3);
  max-height: 95vh;
  max-width: 95vw;
}

.lightbox-caption {
  margin: 16px auto;
  text-align: center;
  color: #f0f0f0;
  font-size: 14px;
  max-width: 80%;
}

.lightbox-close {
  position: absolute;
  top: 20px;
  right: 35px;
  color: #f0f0f0;
  font-size: 32px;
  font-weight: 300;
  cursor: pointer;
  transition: .2s;
}
.lightbox-close:hover { color: #fff; }

    .media-pair{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    .media-pair img{
      width:100%;
      height:var(--pair-h);      /* exact same height */
      object-fit:cover;          /* crop to fill consistently */
      border:1px solid var(--line);
      border-radius:6px;
      display:block;
    }
    .media-pair img.rot90{
  transform: rotate(90deg);
  transform-origin: center;
  width:auto;                 /* let height control the size */
  height:var(--pair-h);       /* same height as its neighbor */
  object-fit:contain;         /* avoid cropping when rotated */
}
    .media-pair img:first-child {
  object-position: center 95%; /* move view slightly up; try 35–45% */
}

    /* Visualization panel */
    .viz{
      position:relative;
      border:1px solid var(--line);
      border-radius:6px;
      background:var(--bg);
      height:calc(50vh - 80px);
      min-height:320px;
      overflow:hidden;
    }
    #vizMount{ position:absolute; inset:0; }

    /* Interactive cursor for the visualization */
.viz,
#vizMount,
.viz canvas {
  cursor: grab;
}

.viz:active,
#vizMount:active,
.viz canvas:active {
  cursor: grabbing;
}


    /* Toolbar buttons (reuse look) */
    .ui-toolbar{
      position:absolute; top:12px; left:12px; z-index:5;
      display:flex; gap:12px; align-items:center; background:transparent; border:none; padding:0;
    }
    .btn{
      appearance:none; height:34px; padding:0 14px;
      border:1px solid transparent; border-radius:3px;
      background:transparent; color:var(--text);
      font:400 13.5px/1 "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      cursor:pointer; transition:background .15s ease, color .15s ease, border-color .15s ease;
    }
    .btn:hover{ background:rgba(0,0,0,0.04); }
    .btn:focus-visible{ outline:none; border:1px solid rgba(0,0,0,0.25); }
    .btn.wall.active{ background:var(--yellow-tint); }
    .btn.dome.active{ background:var(--blue-tint); }
    .btn.wall.active:hover { background:#ffd8a8; }
    .btn.dome.active:hover { background:#e1e7ff; }

    footer {
  width: 100vw;              /* full viewport width */
  margin: 48px 0 0;          /* space above, no side margins */
  padding: 18px 0;           /* vertical padding */
  background: #000;          /* black background */
  color: #fff;               /* white text */
  font-size: 13px;
  text-align: center;
  border-top: none;          /* remove inner border */
  position: relative;
  left: 50%;                 /* fix centering issue with 100vw inside a centered container */
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}
  </style>

  <!-- === DOME SIMULATION LOGIC (mounted into #vizMount) === -->
  <script>
    var domeModel = {
      name: "domeprojection",
      showDome: true,
      showWall: true,
      scene: null,
      renderer: null,
      camera: null,
      line: null,
      linesWall: [],
      linesProjection: [],
      removeLinesProjection: function () {
        for (var i = 0; i < this.linesProjection.length; i++) {
          this.scene.remove(this.linesProjection[i]);
        }
        this.linesProjection = [];
      },
      l: [0],
      a: 1,
      b: 2,
      c: 1,
      lstartt: 0,
      lendt: 2 * Math.PI,
      lstepsize: Math.PI / 20000,
      dldt: function (x, t) {
        return [Math.sqrt(domeModel.b * domeModel.b * Math.cos(t) * Math.cos(t) +
                          domeModel.a * domeModel.a * Math.sin(t) * Math.sin(t))];
      },
      numberOfUnits: 120,
      numberOfSubUnits: 0,
      units: [], unitsx: [], unitsy: [], unitsz: [],
      computeAxis: domeComputeAxis,
      createWall: domeCreateWall,
      createProjection: domeCreateProjection,
      computeIntersection: domeComputeIntersection,
      verticespattern0: [[3,1],[2,1],[2,0],[1,0],[1,1],[0,1],[0,2],[1,2],[1,3],[2,3],[2,2],[3,2],[4,3],[5,3],[6,2],[6,1],[5,0],[4,0],[3,1],[3,2]],
      verticespattern1: [[3,1],[4,1],[4,0],[5,0],[5,1],[6,1],[6,2],[5,2],[5,3],[4,3],[4,2],[3,2],[2,3],[1,3],[0,2],[0,1],[1,0],[2,0],[3,1],[3,2]],
      patternshiftl: 6, patternshiftz: 3, maxlevels: 24, unitlengtz: 0
    };

    function computeCircumference(model){
      var x=[0], h=model.lstepsize, vl=model.dldt;
      for(var t=model.lstartt; t<model.lendt; t+=h){ x=rk4(x,vl,h,t); }
      model.l=x; return x;
    }

    function unitSplit(model){
      if(model.l[0]==0) computeCircumference(model);
      var units=model.units=[]; if(model.l[0]==0) return;
      var totalunits=model.numberOfUnits*(1+model.numberOfSubUnits);
      var ul=model.l[0]/totalunits, x=[0], h=model.lstepsize, t=model.lstartt, vl=model.dldt, xn;
      units[0]=t;
      for(var i=1;i<=totalunits;i++){
        while((xn=rk4(x,vl,h,t))[0]<i*ul){ x=xn; t+=h; }
        var ti=t-(((xn[0]-x[0])>0)?(xn[0]-i*ul)*h/(xn[0]-x[0]):0);
        units[i]=ti;
      }
      model.unitlengtz=units[model.numberOfSubUnits+1]-units[0];
    }

    function domeCreateWall(){
      var mainunits=domeModel.numberOfUnits, subunits=domeModel.numberOfSubUnits;
      var pattern0=domeModel.verticespattern0, pattern1=domeModel.verticespattern1;
      var patterncount= mainunits/domeModel.patternshiftl;
      var patternunitcount=domeModel.patternshiftl*(1+subunits);
      var levelcount=domeModel.patternshiftz;
      var unitsx=domeModel.unitsx, unitsy=domeModel.unitsy, unitz=domeModel.unitlengtz;

      var material = new THREE.LineBasicMaterial({ color: 0xff8c42 }); /* warm orange */

      for(var j=0;j<domeModel.maxlevels;j++){
        var pattern=(j%2)?pattern0:pattern1;
        for(var i=0;i<patterncount;i++){
          var geometry=new THREE.Geometry();
          for(var k=0;k<pattern.length;k++){
            geometry.vertices.push(new THREE.Vector3(
              unitsx[i*patternunitcount+pattern[k][0]*(1+subunits)],
              unitsy[i*patternunitcount+pattern[k][0]*(1+subunits)],
              (j*levelcount+pattern[k][1]*(1+subunits))*unitz
            ));
          }
          var line=new THREE.Line(geometry, material);
          domeModel.linesWall[j*patterncount+i]=line;
          domeModel.scene.add(line);
        }
      }
    }

    function domeComputeAxis(model){
      for(var i=0;i<model.units.length;i++){
        model.unitsx[i]=model.a*Math.cos(model.units[i]);
        model.unitsy[i]=model.b*Math.sin(model.units[i]);
        model.unitsz[i]=0;
      }
    }

    function domeCreateProjection(model){
      if(model.linesProjection.length>0) model.removeLinesProjection();
      var material=new THREE.LineBasicMaterial({ color: 0x2a4de0 }); /* slightly darker blue */
      for(var i=0;i<model.linesWall.length;i++){
        var line=new THREE.Line(model.linesWall[i].geometry.clone(), material);
        var vertices=line.geometry.vertices;
        for(var k=0;k<vertices.length;k++) model.computeIntersection(vertices[k]);
        model.linesProjection[i]=line; model.scene.add(line);
      }
    }

    function domeComputeIntersection(p){
      var s=Math.sqrt(1/(p.x*p.x/this.a/this.a + p.y*p.y/this.b/this.b + p.z*p.z/this.c/this.c));
      p.x*=s; p.y*=s; p.z*=s;
    }

    function toggleWall(model){
      model.showWall=!model.showWall;
      var btn=document.getElementById("toggleWallButton");
      if(btn) btn.classList.toggle("active", model.showWall);
      for(var i=0;i<model.linesWall.length;i++) model.linesWall[i].visible=model.showWall;
      model.renderer.render(model.scene, model.camera);
    }
    function toggleDome(model){
      model.showDome=!model.showDome;
      var btn=document.getElementById("toggleDomeButton");
      if(btn) btn.classList.toggle("active", model.showDome);
      for(var i=0;i<model.linesProjection.length;i++) model.linesProjection[i].visible=model.showDome;
      model.renderer.render(model.scene, model.camera);
    }

    /* Mount into the right-hand container and size to it */
    function init(model){
      unitSplit(model); model.computeAxis(model);
      model.scene=new THREE.Scene();

      const mount=document.getElementById('vizMount');
      const rect=()=>mount.getBoundingClientRect();

      model.renderer=new THREE.WebGLRenderer({ antialias:true });
      model.renderer.setSize(rect().width, rect().height);
      model.renderer.setClearColor(new THREE.Color(0xFFF9F0), 1); // match site bg
      mount.appendChild(model.renderer.domElement);

model.camera = new THREE.PerspectiveCamera(80, rect().width / rect().height, 0.1, 1000);

// Larger / closer view
const R =  0.5* Math.max(model.a, model.b); // smaller multiplier = closer zoom

// Higher and more left-above
model.camera.position.set(-1.2 * R, 0.9 * R, 4 * R); // increase last value → more above


// Z axis is up in this scene
model.camera.up = new THREE.Vector3(0, 0, 1);

// Look at the center of the dome
model.camera.lookAt(new THREE.Vector3(0, 0, 0));

model.scene.add(model.camera);


      // Lights
      let light=new THREE.PointLight(0xffffff); light.position.set(-20,0,-40); model.scene.add(light);
      light=new THREE.PointLight(0x080808); light.position.set(10,-20,0); model.scene.add(light);

      model.createWall(); model.createProjection(model);

      controls=new THREE.CircleAxisControls(model.camera, model.renderer.domElement, "z");
      controls.update();

      // Resize with container
      window.addEventListener('resize', function(){
        const r=rect();
        model.renderer.setSize(r.width, r.height);
        model.camera.aspect=r.width/r.height;
        model.camera.updateProjectionMatrix();
      });

      animate();
    }

    function animate(){ requestAnimationFrame(animate); domeModel.renderer.render(domeModel.scene, domeModel.camera); }
  </script>
</head>

<body>
  <!-- Header -->
  <div class="menu" id="menu">
    <div class="inner">
      <div class="title-wrap">
        <div class="title-bar" style="height:40px"></div>
        <div class="title-text">
          <h1>Remo Oostdam</h1>
          <div class="subtitle">PhD Candidate in Finance</div>
        </div>
      </div>

      <!-- Top navigation (same as index) -->
      <nav class="top-nav" aria-label="Main menu">
        <a class="side-link" href="index.html">Home</a>
        <a class="side-link active" href="other.html">Other</a>
      </nav>

      <a href="https://www.uva.nl/en" target="_blank" class="uva-logo" rel="noopener">
        <img src="assets/uva.svg" alt="University of Amsterdam Logo">
      </a>
    </div>
  </div>

  <!-- Page body -->
  <div class="wrap">
    <div class="content">
      <!-- LEFT: text -->
      <main>
        <section aria-labelledby="san-carlo">
  <h2 id="san-carlo">San Carlo</h2>

  <p>
    In Rome, there is a small 17th-century church called
    <a href="https://sancarlino.org/" target="_blank" rel="noopener">San Carlo alle Quattro Fontane</a>,
    designed by <a href="https://en.wikipedia.org/wiki/Francesco_Borromini" target="_blank" rel="noopener">Francesco Borromini</a>,
    a contemporary of <a href="https://en.wikipedia.org/wiki/Gian_Lorenzo_Bernini" target="_blank" rel="noopener">Gian Lorenzo Bernini</a>
    and one of the great masters of the Baroque period. Their rivalry produced some of the era’s most inventive designs.
  </p>

  <p>
    Inside the church, the dome’s pattern consists of a repetition of Greek crosses, octagons, and hexagons.
    To make the dome appear higher, Borromini gradually reduced the size of these shapes toward the top,
    creating a striking optical illusion.
  </p>

  <p>
    This illusion can be reconstructed and improved by projecting the 2D pattern from a cylindrical surface
    around the dome onto a viewpoint at the center of its base. The intersection of each projection line
    with the dome determines where the pattern should be drawn. You can experiment with this effect in the
    visualization on the right. Approaching the center of the dome, the structure appears to lift upward,
    with the illusion strongest at the origin.
  </p>

  <p>
    Another fascinating example of optical illusion can be found in
    <a href="https://santignazio.gesuiti.it/en/" target="_blank" rel="noopener">Sant’Ignazio di Loyola</a>, where
    <a href="https://en.wikipedia.org/wiki/Andrea_Pozzo" target="_blank" rel="noopener">Andrea Pozzo</a>
    painted a magnificent “false” dome on a flat ceiling — well worth a visit as well!
  </p>
<p><em>I completed this project after a high school trip to Rome in 2016, with the help of my excellent math and programming teacher, <a href="https://www.johnval.nl/" target="_blank" rel="noopener">John Val</a>.</em></p>

</section>

      </main>

      <!-- RIGHT: media (image pair + visualization) -->
      <aside class="media" aria-label="Images and visualization">
        <div class="media-pair">
  <img src="assets/Gevel.jpeg" alt="Facade of San Carlo alle Quattro Fontane">
  <img src="assets/Dome.jpg" alt="Dome of San Carlo alle Quattro Fontane" class="rotated-thumb">
</div>


        <div class="viz" aria-label="Interactive visualization">
          <div class="ui-toolbar">
            <button id="toggleWallButton" class="btn wall active" onclick="toggleWall(domeModel)">Wall</button>
            <button id="toggleDomeButton" class="btn dome active" onclick="toggleDome(domeModel)">Dome</button>
          </div>
          <div id="vizMount"></div>
        </div>
      </aside>
    </div>

    <footer>
      © <span id="year"></span> Remo Oostdam • remooostdam.com
    </footer>
  </div>

  <script>
    // footer year + header fade like index
    document.getElementById('year').textContent = new Date().getFullYear();
    const menu = document.getElementById('menu');
    let lastScroll = 0;
    window.addEventListener('scroll', () => {
      const current = window.scrollY;
      if (current > 60 && current > lastScroll) menu.classList.add('fade-out');
      else menu.classList.remove('fade-out');
      lastScroll = current;
    });

    // boot the simulation after DOM is ready
    window.addEventListener('DOMContentLoaded', () => init(domeModel));
  </script>
<div id="lightbox" class="lightbox" aria-hidden="true">
  <span class="lightbox-close" aria-label="Close">&times;</span>
  <img class="lightbox-content" id="lightbox-img" alt="">
  <div class="lightbox-caption" id="lightbox-caption"></div>
</div>
<script>
(function(){
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lightbox-img');
  const lbCap = document.getElementById('lightbox-caption');
  const closeBtn = document.querySelector('.lightbox-close');

  document.querySelectorAll('.media-pair img').forEach(img => {
    img.addEventListener('click', () => {
      lb.style.display = 'block';
      lbImg.src = img.src;
      lbImg.classList.toggle('rotated', img.classList.contains('rotated-thumb'));
      lbCap.textContent = img.alt || '';
    });
  });

  closeBtn.addEventListener('click', () => lb.style.display = 'none');
  lb.addEventListener('click', e => { if (e.target === lb) lb.style.display = 'none'; });
  document.addEventListener('keydown', e => { if (e.key === 'Escape') lb.style.display = 'none'; });
})();
</script>

</body>
</html>

